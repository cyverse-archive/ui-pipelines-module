<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder
    xmlns:ui="urn:ui:com.google.gwt.uibinder"
    xmlns:g="urn:import:com.google.gwt.user.client.ui"
    xmlns:gxt="urn:import:com.sencha.gxt.widget.core.client"
    xmlns:container="urn:import:com.sencha.gxt.widget.core.client.container"
    xmlns:button="urn:import:com.sencha.gxt.widget.core.client.button"
    xmlns:grid="urn:import:com.sencha.gxt.widget.core.client.grid"
    xmlns:toolbar="urn:import:com.sencha.gxt.widget.core.client.toolbar"
    xmlns:views="urn:import:org.iplantc.core.client.pipelines.gxt3.views"
    xmlns:builder="urn:import:org.iplant.pipeline.client.builder">

    <ui:with
        field="strings"
        type="org.iplantc.core.client.pipelines.PipelinesDisplayStrings" />
    <ui:with
        field="icons"
        type="org.iplantc.core.client.pipelines.images.Icons" />
    <ui:with
        field="northData"
        type="com.sencha.gxt.widget.core.client.container.BorderLayoutContainer.BorderLayoutData">
        <ui:attributes
            size="30"
            maxSize="30" />
    </ui:with>
    <ui:with
        field="actionsPanelData"
        type="com.sencha.gxt.widget.core.client.container.BorderLayoutContainer.BorderLayoutData">
        <ui:attributes
            size="175"
            collapsible="false"
            split="false" />
    </ui:with>
    <ui:with
        field="stepActionMargins"
        type="com.sencha.gxt.core.client.util.Margins">
        <ui:attributes
            top="20"
            right="5"
            bottom="5"
            left="5" />
    </ui:with>
   <ui:with field="stepActionData"
            type="com.sencha.gxt.widget.core.client.container.MarginData">
      <ui:attributes margins="{stepActionMargins}" />
   </ui:with>
    <ui:with
        field="builderPanelData"
        type="com.sencha.gxt.widget.core.client.container.BorderLayoutContainer.BorderLayoutData">
        <ui:attributes
            size="400"
            collapsible="false"
            split="true" />
    </ui:with>
    <ui:with
        field="pipelineAppStore"
        type="com.sencha.gxt.data.shared.ListStore" />
    <ui:with
        field="cm"
        type="com.sencha.gxt.widget.core.client.grid.ColumnModel" />
    <ui:with
        field="gridView"
        type="com.sencha.gxt.widget.core.client.grid.GridView">
        <ui:attributes
            forceFit="true"
            autoFill="true" />
    </ui:with>

    <container:SimpleContainer>
        <container:BorderLayoutContainer
            ui:field="borders"
            borders="true">
            <!-- This is the tool bar -->
            <container:north layoutData="{northData}" />
            <!-- This is the main panel -->
            <container:center>
                <container:CardLayoutContainer ui:field="centerPanel">
                    <!-- This is the old-style Step Editor panel -->
                    <container:BorderLayoutContainer ui:field="stepEditorPanel">
                        <container:west layoutData="{actionsPanelData}">
                            <container:VerticalLayoutContainer ui:field="actionsPanel">
                                <button:ToggleButton
                                    ui:field="infoBtn"
                                    debugId="BtnWorkflowInfo"
                                    text="{strings.workflowInfo}"
                                    width="150"
                                    height="30"
                                    layoutData="{stepActionData}"
                                    value="true" />
                                <button:ToggleButton
                                    ui:field="appOrderBtn"
                                    debugId="BtnWorkflowAppOrder"
                                    text="{strings.selectAndOrderApps}"
                                    width="150"
                                    height="30"
                                    layoutData="{stepActionData}" />
                                <button:ToggleButton
                                    ui:field="mappingBtn"
                                    debugId="BtnWorkflowMapping"
                                    text="{strings.mapOutputsToInputs}"
                                    width="150"
                                    height="30"
                                    layoutData="{stepActionData}" />
                            </container:VerticalLayoutContainer>
                        </container:west>
                        <container:center>
                            <container:CardLayoutContainer ui:field="stepPanel">
                                <views:PipelineInfoEditor ui:field="infoPanel" />
                                <container:BorderLayoutContainer ui:field="appOrderPanel">
                                    <container:north layoutData="{northData}">
                                        <toolbar:ToolBar>
                                            <button:TextButton
                                                ui:field="addAppsBtn"
                                                debugId="idBtnAddApps"
                                                text="{strings.add}"
                                                icon="{icons.add}" />
                                            <button:TextButton
                                                ui:field="removeAppBtn"
                                                debugId="idBtnRemoveApp"
                                                text="{strings.remove}"
                                                icon="{icons.remove}" />
                                            <toolbar:SeparatorToolItem />
                                            <button:TextButton
                                                ui:field="moveUpBtn"
                                                debugId="idBtnMoveUp"
                                                text="{strings.moveUp}"
                                                icon="{icons.up}" />
                                            <button:TextButton
                                                ui:field="moveDownBtn"
                                                debugId="idBtnMoveDown"
                                                text="{strings.moveDown}"
                                                icon="{icons.down}" />
                                        </toolbar:ToolBar>
                                    </container:north>
                                    <container:center>
                                        <grid:Grid
                                            ui:field="appOrderGrid"
                                            cm="{cm}"
                                            store="{pipelineAppStore}"
                                            view="{gridView}" />
                                    </container:center>
                                </container:BorderLayoutContainer>
                                <container:SimpleContainer ui:field="mappingPanel">
                                    <g:Label text="{strings.mapOutputsToInputs}" />
                                </container:SimpleContainer>
                            </container:CardLayoutContainer>
                        </container:center>
                    </container:BorderLayoutContainer>
                    <!-- This is the new Pipeline Builder panel -->
                    <container:BorderLayoutContainer ui:field="builderPanel">
                        <container:center>
                            <container:SimpleContainer ui:field="appsContainer" />
                        </container:center>
                        <container:east layoutData="{builderPanelData}">
                            <container:SimpleContainer ui:field="builderDropWrapper">
                                <builder:PipelineCreator ui:field="builder" />
                            </container:SimpleContainer>
                        </container:east>
                    </container:BorderLayoutContainer>
                </container:CardLayoutContainer>
            </container:center>
        </container:BorderLayoutContainer>
    </container:SimpleContainer>
</ui:UiBinder>
